<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Username Tool</title>
    <style>
        body {
            font-family: Consolas, monospace;
            background-color: #0c0c0c;
            color: #ffffff;
            padding: 20px;
        }
        #output {
            white-space: pre;
            background-color: #0c0c0c;
            padding: 10px;
            margin-bottom: 10px;
            height: 300px;
            overflow-y: auto;
            border: 1px solid #333;
            resize: vertical;
            overflow: auto;
        }
        input {
            font-family: Consolas, monospace;
            margin: 5px 0;
            background-color: #1e1e1e;
            color: #ffffff;
            border: 1px solid #333;
        }
        .green { color: #00ff00; }
        .red { color: #ff0000; }
        .cyan { color: #00ffff; }
        .magenta { color: #ff00ff; }
    </style>
</head>
<body>
    <div id="output"></div>
    <input type="text" id="input" placeholder="Enter command..." />

    <script>
        const outputDiv = document.getElementById('output');
        const inputField = document.getElementById('input');
        let showTakenUsernames = true;
        let generationFilter = 1;
        let state = 'mainMenu';

        document.addEventListener('DOMContentLoaded', () => {
            showMainMenu();
        });

        inputField.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                handleInput(inputField.value.trim());
                inputField.value = '';
            }
        });

        function handleInput(input) {
            switch (state) {
                case 'mainMenu':
                    handleMainMenu(input);
                    break;
                case 'generate':
                    handleGenerate(input);
                    break;
                case 'usernameChecker':
                    handleUsernameChecker(input);
                    break;
                case 'settings':
                    handleSettings(input);
                    break;
            }
        }

        function showMainMenu() {
            clearOutput();
            printWatermark();
            printToOutput('Main Menu:\n1) Generate Usernames\n2) Check Username\n3) Settings\nType the number to select an option.');
            state = 'mainMenu';
        }

        function handleMainMenu(input) {
            switch (input) {
                case '1':
                    state = 'generate';
                    showGeneratePage();
                    break;
                case '2':
                    state = 'usernameChecker';
                    showUsernameCheckerPage();
                    break;
                case '3':
                    state = 'settings';
                    showSettingsPage();
                    break;
                default:
                    printToOutput('Invalid option. Please enter a valid number.');
            }
        }

        function showGeneratePage() {
            clearOutput();
            printWatermark();
            printToOutput('Generating Usernames:\nEnter how many usernames you want to generate (or press Enter to return):');
        }

        async function handleGenerate(input) {
            if (!isNaN(input) && input > 0) {
                await generateUsernames(parseInt(input));
                printToOutput('Press Enter to Return to the generation page.');
                state = 'generate';
            } else if (input === '') {
                showMainMenu();
            } else {
                printToOutput('Invalid input. Please enter a valid number.');
            }
        }

        async function generateUsernames(number) {
            printToOutput(`Generating ${number} usernames...`);
            for (let i = 0; i < number; i++) {
                let username = generateUsernameByFilter();
                if (!showTakenUsernames) {
                    let isTaken = await checkUsernameStatus(username);
                    if (isTaken) {
                        printToOutput(`${username} - Account exists (taken), regenerating...`);
                        username = generateUsernameByFilter();
                    }
                }
                printToOutput(`Generated: ${username}`);
            }
        }

        function showUsernameCheckerPage() {
            clearOutput();
            printWatermark();
            printToOutput('Username Checker:\nEnter a username to check (or press Enter to return):');
        }

        async function handleUsernameChecker(input) {
            if (input !== '') {
                const status = await checkUsernameStatus(input);
                if (status === 'banned') {
                    printToOutput(`${input} - Account is banned`);
                } else if (status === true) {
                    printToOutput(`${input} - Account exists (taken)`);
                } else if (status === false) {
                    printToOutput(`${input} - Account does not exist (available)`);
                } else {
                    printToOutput(`${input} - Unknown error`);
                }
                printToOutput('Press Enter to return to the username checker...');
                state = 'usernameChecker';
            } else {
                showMainMenu();
            }
        }

        function showSettingsPage() {
            clearOutput();
            printWatermark();
            printToOutput('Settings Menu:\n1) Toggle showing taken usernames (current: ' + (showTakenUsernames ? 'On' : 'Off') + ')\n2) Filters (current: ' + getFilterName() + ')\nSelect an option (or press Enter to return):');
        }

        function handleSettings(input) {
            switch (input) {
                case '1':
                    showTakenUsernames = !showTakenUsernames;
                    showSettingsPage(); // Refresh the settings page
                    break;
                case '2':
                    showFilterOptions();
                    break;
                case '':
                    showMainMenu();
                    break;
                default:
                    printToOutput('Invalid option. Please enter a valid number.');
            }
        }

        function showFilterOptions() {
            clearOutput();
            printWatermark();
            printToOutput('Select a filter:\n1) Random 5 Symbol (default)\n2) 6 Letters\n3) 5 Symbols with 3 Same Symbols\n4) 6 Symbols with 3 or 4 Same Symbols\n5) Thin Name (5-6 symbols using only t, i, l, 1, j)\nEnter your choice (1-5):');
        }

        function handleFilterChoice(input) {
            const filterChoice = parseInt(input);
            if (filterChoice >= 1 && filterChoice <= 5) {
                generationFilter = filterChoice;
                showSettingsPage(); // Refresh the settings page
            } else {
                printToOutput('Invalid filter choice. Please enter a number between 1 and 5.');
            }
        }

        function getFilterName() {
            switch (generationFilter) {
                case 2:
                    return '6 Letters';
                case 3:
                    return '5 Symbols with 3 Same Symbols';
                case 4:
                    return '6 Symbols with 3 or 4 Same Symbols';
                case 5:
                    return 'Thin Name';
                case 1:
                default:
                    return 'Random 5 Symbol';
            }
        }

        function printToOutput(text, color = 'white') {
            const p = document.createElement('p');
            p.textContent = text;
            p.className = color;
            outputDiv.appendChild(p);
            outputDiv.scrollTop = outputDiv.scrollHeight;
        }

        function clearOutput() {
            outputDiv.innerHTML = '';
        }

        function printWatermark() {
            const watermark = `
░█████╗░██████╗░░█████╗░░██╗░░░░░░░██╗░██████╗░██╗░░██╗██╗░░██╗
██╔══██╗██╔══██╗██╔══██╗░██║░░██╗░░██║██╔═══██╗╚██╗██╔╝╚██╗██╔╝
██║░░╚═╝██████╔╝███████║░╚██╗████╗██╔╝██║██╗██║░╚███╔╝░░╚███╔╝░
██║░░██╗██╔══██╗██╔══██║░░████╔═████║░╚██████╔╝░██╔██╗░░██╔██╗░
╚█████╔╝██║░░██║██║░░██║░░╚██╔╝░╚██╔╝░░╚═██╔═╝░██╔╝╚██╗██╔╝╚██╗
░╚════╝░╚═╝░░╚═╝╚═╝░░╚═╝░░░╚═╝░░░╚═╝░░░░░╚═╝░░░╚═╝░░╚═╝╚═╝░░╚═╝

                        RBLX-Username v1.1 Beta
            `;
            printToOutput(watermark, 'magenta');
        }

        function generateUsernameByFilter() {
            switch (generationFilter) {
                case 2:
                    return generate6LetterUsername();
                case 3:
                    return generate5SymbolsWith3Same();
                case 4:
                    return generate6SymbolsWith3or4Same();
                case 5:
                    return generateThinName();
                case 1:
                default:
                    return generateRandom5Symbol();
            }
        }

        function generateRandom5Symbol() {
            const symbols = 'abcdefghijklmnopqrstuvwxyz0123456789';
            let username = '';
            for (let i = 0; i < 5; i++) {
                username += symbols.charAt(Math.floor(Math.random() * symbols.length));
            }
            return username;
        }

        function generate6LetterUsername() {
            const symbols = 'abcdefghijklmnopqrstuvwxyz';
            let username = '';
            for (let i = 0; i < 6; i++) {
                username += symbols.charAt(Math.floor(Math.random() * symbols.length));
            }
            return username;
        }

        function generate5SymbolsWith3Same() {
            const symbols = 'abcdefghijklmnopqrstuvwxyz0123456789';
            const base = symbols.charAt(Math.floor(Math.random() * symbols.length));
            let username = base.repeat(3);
            while (username.length < 5) {
                username += symbols.charAt(Math.floor(Math.random() * symbols.length));
            }
            return username;
        }

        function generate6SymbolsWith3or4Same() {
            const symbols = 'abcdefghijklmnopqrstuvwxyz0123456789';
            let username = '';
            const base = symbols.charAt(Math.floor(Math.random() * symbols.length));
            const repeatCount = Math.random() > 0.5 ? 3 : 4;
            username = base.repeat(repeatCount);
            while (username.length < 6) {
                username += symbols.charAt(Math.floor(Math.random() * symbols.length));
            }
            return username;
        }

        function generateThinName() {
            const symbols = 'til1j';
            let username = '';
            for (let i = 0; i < 5; i++) {
                username += symbols.charAt(Math.floor(Math.random() * symbols.length));
            }
            return username;
        }

        async function checkUsernameStatus(username) {
            try {
                const response = await fetch(`https://auth.roblox.com/v1/usernames/validate?birthday=2006-09-21T07:00:00.000Z&context=Signup&username=${username}`);
                if (response.ok) {
                    const result = await response.json();
                    if (result.errors && result.errors.includes('Username is already taken')) {
                        return true;
                    }
                    return false;
                } else {
                    return 'banned';
                }
            } catch (error) {
                return 'error';
            }
        }
    </script>
</body>
</html>
