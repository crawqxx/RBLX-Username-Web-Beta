<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Username Tool</title>
    <style>
        body {
            font-family: Consolas, monospace;
            background-color: #0c0c0c;
            color: #ffffff;
            padding: 20px;
        }
        #output {
            white-space: pre;
            background-color: #0c0c0c;
            padding: 10px;
            margin-bottom: 10px;
            height: 300px;
            overflow-y: auto;
            border: 1px solid #333;
        }
        input, button {
            font-family: Consolas, monospace;
            margin: 5px 0;
            background-color: #1e1e1e;
            color: #ffffff;
            border: 1px solid #333;
        }
        .green { color: #00ff00; }
        .red { color: #ff0000; }
        .cyan { color: #00ffff; }
        .magenta { color: #ff00ff; }
    </style>
</head>
<body>
    <div id="output"></div>
    <input type="text" id="input" placeholder="Enter command..." onkeypress="handleKeyPress(event)" />

    <script>
        const outputDiv = document.getElementById('output');
        const inputField = document.getElementById('input');
        let showTakenUsernames = true;
        let generationFilter = 1;
        let generatedUsernamesCount = 0;

        document.addEventListener('DOMContentLoaded', () => {
            showMainMenu();
        });

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                executeCommand(inputField.value.trim());
                inputField.value = '';
            }
        }

        async function executeCommand(command) {
            switch(command) {
                case '1':
                    clearOutput();
                    await generateUsernames(5);
                    break;
                case '2':
                    clearOutput();
                    await usernameChecker();
                    break;
                case '3':
                    clearOutput();
                    showSettingsMenu();
                    break;
                default:
                    printToOutput('Unknown option. Please choose a valid number.');
            }
        }

        function showMainMenu() {
            clearOutput();
            printToOutput(`░█████╗░██████╗░░█████╗░░██╗░░░░░░░██╗░██████╗░██╗░░██╗██╗░░██╗
    ██╔══██╗██╔══██╗██╔══██╗░██║░░██╗░░██║██╔═══██╗╚██╗██╔╝╚██╗██╔╝
    ██║░░╚═╝██████╔╝███████║░╚██╗████╗██╔╝██║██╗██║░╚███╔╝░░╚███╔╝░
    ██║░░██╗██╔══██╗██╔══██║░░████╔═████║░╚██████╔╝░██╔██╗░░██╔██╗░
    ╚█████╔╝██║░░██║██║░░██║░░╚██╔╝░╚██╔╝░░╚═██╔═╝░██╔╝╚██╗██╔╝╚██╗
    ░╚════╝░╚═╝░░╚═╝╚═╝░░╚═╝░░░╚═╝░░░╚═╝░░░░░╚═╝░░░╚═╝░░╚═╝╚═╝░░╚═╝
              
                            RBLX-Username v1.1 Beta
            \nMain Menu:\n1) Generate Usernames\n2) Check Username\n3) Settings`);
        }

        function showSettingsMenu() {
            printToOutput(`Settings Menu:\n1) Toggle Show Taken Usernames\n2) Set Filter\n3) Back to Main Menu\nType the number to select an option.`);
        }

        function updateSettings(command) {
            if (command === '1') {
                showTakenUsernames = !showTakenUsernames;
                printToOutput(`Show taken usernames: ${showTakenUsernames ? 'On' : 'Off'}`);
            } else if (command === '2') {
                const filterNumber = parseInt(prompt('Enter filter number (1-5):'));
                if (filterNumber >= 1 && filterNumber <= 5) {
                    generationFilter = filterNumber;
                    printToOutput(`Filter set to: ${generationFilter}`);
                } else {
                    printToOutput('Invalid filter number.');
                }
            } else if (command === '3') {
                showMainMenu();
            } else {
                printToOutput('Invalid settings command.');
            }
        }

        async function generateUsernames(number) {
            printToOutput(`Generating ${number} usernames...`);
            for (let i = 0; i < number; i++) {
                let username = generateUsernameByFilter();
                if (!showTakenUsernames) {
                    let isTaken = await checkUsernameStatus(username);
                    if (isTaken) {
                        printToOutput(`${username} - Account exists (taken), regenerating...`);
                        username = generateUsernameByFilter();
                    }
                }
                printToOutput(`Generated: ${username}`);
                generatedUsernamesCount++;
            }
        }

        function generateUsernameByFilter() {
            switch (generationFilter) {
                case 1:
                    return generateRandomUsername(5);
                case 2:
                    return generate6LetterUsername();
                case 3:
                    return generate5SymbolsWith3Same();
                case 4:
                    return generate6SymbolsWith3Or4Same();
                case 5:
                    return generateThinName();
                default:
                    return generateRandomUsername(5);
            }
        }

        function generateRandomUsername(length) {
            const characters = 'abcdefghijklmnopqrstuvwxyz0123456789_';
            let username = '';
            for (let i = 0; i < length; i++) {
                username += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return username;
        }

        function generate6LetterUsername() {
            const characters = 'abcdefghijklmnopqrstuvwxyz';
            let username = '';
            for (let i = 0; i < 6; i++) {
                username += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return username;
        }

        function generate5SymbolsWith3Same() {
            const characters = 'abcdefghijklmnopqrstuvwxyz0123456789_';
            let username = '';
            const char = characters.charAt(Math.floor(Math.random() * characters.length));
            for (let i = 0; i < 3; i++) {
                username += char;
            }
            for (let i = 3; i < 5; i++) {
                username += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return shuffleString(username);
        }

        function generate6SymbolsWith3Or4Same() {
            const characters = 'abcdefghijklmnopqrstuvwxyz0123456789_';
            let username = '';
            const char = characters.charAt(Math.floor(Math.random() * characters.length));
            const count = Math.random() > 0.5 ? 3 : 4;
            for (let i = 0; i < count; i++) {
                username += char;
            }
            for (let i = count; i < 6; i++) {
                username += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return shuffleString(username);
        }

        function generateThinName() {
            const thinChars = 'til1j';
            const length = Math.random() > 0.5 ? 5 : 6;
            let username = '';
            for (let i = 0; i < length; i++) {
                username += thinChars.charAt(Math.floor(Math.random() * thinChars.length));
            }
            return username;
        }

        function shuffleString(str) {
            const arr = str.split('');
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr.join('');
        }

        async function checkUsernameStatus(username) {
            const url1 = `https://www.roblox.com/users/profile?username=${username}`;
            const url2 = `https://auth.roblox.com/v1/usernames/validate?birthday=2006-09-21T07:00:00.000Z&context=Signup&username=${username}`;

            try {
                const response = await fetch(url1);
                if (response.ok) {
                    return true;
                }
                const jsonResponse = await fetch(url2);
                const data = await jsonResponse.json();
                return data.status === 403;
            } catch (error) {
                printToOutput(`Error checking username status: ${error.message}`);
                return false;
            }
        }

        async function usernameChecker() {
            const username = prompt('Enter username to check:');
            if (username.length < 3 || username.length > 20) {
                printToOutput('Username must be between 3 and 20 characters.');
                return;
            }
            const isTaken = await checkUsernameStatus(username);
            if (isTaken) {
                printToOutput(`${username} - Taken`, 'red');
            } else {
                printToOutput(`${username} - Available`, 'green');
            }
        }

        function printToOutput(message, color = 'cyan') {
            const watermark = 'Watermark: RBLX-Username v1.1 Beta\n';
            outputDiv.innerHTML += `${watermark}${message}\n`;
            outputDiv.scrollTop = outputDiv.scrollHeight;
        }

        function clearOutput() {
            outputDiv.innerHTML = '';
        }
    </script>
</body>
</html>
