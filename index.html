<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Username Tool</title>
    <style>
        body {
            font-family: Consolas, monospace;
            background-color: #0c0c0c;
            color: #ffffff;
            padding: 20px;
        }
        #output {
            white-space: pre;
            background-color: #0c0c0c;
            padding: 10px;
            margin-bottom: 10px;
            height: 300px;
            overflow-y: auto;
            border: 1px solid #333;
        }
        input, button {
            font-family: Consolas, monospace;
            margin: 5px 0;
            background-color: #1e1e1e;
            color: #ffffff;
            border: 1px solid #333;
        }
        .green { color: #00ff00; }
        .red { color: #ff0000; }
        .cyan { color: #00ffff; }
        .magenta { color: #ff00ff; }
    </style>
</head>
<body>
    <div id="output"></div>
    <input type="text" id="input" placeholder="Enter command..." onkeypress="handleKeyPress(event)" />

    <script>
        const outputDiv = document.getElementById('output');
        const inputField = document.getElementById('input');
        let showTakenUsernames = true;
        let generationFilter = 1;
        let generatedUsernamesCount = 0;

        document.addEventListener('DOMContentLoaded', () => {
            printToOutput('RBLX-Username v1.1 Beta\nType "menu" to get started.');
        });

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                executeCommand(inputField.value.trim());
                inputField.value = '';
            }
        }

        async function executeCommand(command) {
            if (command === 'menu') {
                showMainMenu();
            } else if (command === 'generate') {
                await generateUsernames(5);
            } else if (command === 'check') {
                await usernameChecker();
            } else if (command.startsWith('settings')) {
                updateSettings(command);
            } else if (command.startsWith('create')) {
                await createAccount(command.split(' ')[1]);
            } else {
                printToOutput('Unknown command.');
            }
        }

        function showMainMenu() {
            printToOutput('Main Menu:\n1) Generate Usernames\n2) Check Username\n3) Settings\n4) Create Account\nType the number to select an option.');
        }

        function updateSettings(command) {
            if (command === 'settings toggle') {
                showTakenUsernames = !showTakenUsernames;
                printToOutput(`Show taken usernames: ${showTakenUsernames ? 'On' : 'Off'}`);
            } else if (command.startsWith('settings filter')) {
                const filterNumber = parseInt(command.split(' ')[2]);
                if (filterNumber >= 1 && filterNumber <= 5) {
                    generationFilter = filterNumber;
                    printToOutput(`Filter set to: ${generationFilter}`);
                } else {
                    printToOutput('Invalid filter number.');
                }
            } else {
                printToOutput('Invalid settings command.');
            }
        }

        async function generateUsernames(number) {
            printToOutput(`Generating ${number} usernames...`);
            for (let i = 0; i < number; i++) {
                let username = generateUsernameByFilter();
                if (!showTakenUsernames) {
                    let isTaken = await checkUsernameStatus(username);
                    if (isTaken) {
                        printToOutput(`${username} - Account exists (taken), regenerating...`);
                        username = generateUsernameByFilter();
                    }
                }
                printToOutput(`Generated: ${username}`);
                generatedUsernamesCount++;
            }
        }

        function generateUsernameByFilter() {
            switch (generationFilter) {
                case 1:
                    return generateRandomUsername(5);
                case 2:
                    return generate6LetterUsername();
                case 3:
                    return generate5SymbolsWith3Same();
                case 4:
                    return generate6SymbolsWith3Or4Same();
                case 5:
                    return generateThinName();
                default:
                    return generateRandomUsername(5);
            }
        }

        function generateRandomUsername(length) {
            const characters = 'abcdefghijklmnopqrstuvwxyz0123456789_';
            let username = '';
            for (let i = 0; i < length; i++) {
                username += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return username;
        }

        function generate6LetterUsername() {
            const characters = 'abcdefghijklmnopqrstuvwxyz';
            let username = '';
            for (let i = 0; i < 6; i++) {
                username += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return username;
        }

        function generate5SymbolsWith3Same() {
            const characters = 'abcdefghijklmnopqrstuvwxyz0123456789_';
            let username = '';
            const char = characters.charAt(Math.floor(Math.random() * characters.length));
            for (let i = 0; i < 3; i++) {
                username += char;
            }
            for (let i = 3; i < 5; i++) {
                username += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return shuffleString(username);
        }

        function generate6SymbolsWith3Or4Same() {
            const characters = 'abcdefghijklmnopqrstuvwxyz0123456789_';
            let username = '';
            const char = characters.charAt(Math.floor(Math.random() * characters.length));
            const count = Math.random() > 0.5 ? 3 : 4;
            for (let i = 0; i < count; i++) {
                username += char;
            }
            for (let i = count; i < 6; i++) {
                username += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return shuffleString(username);
        }

        function generateThinName() {
            const thinChars = 'til1j';
            const length = Math.random() > 0.5 ? 5 : 6;
            let username = '';
            for (let i = 0; i < length; i++) {
                username += thinChars.charAt(Math.floor(Math.random() * thinChars.length));
            }
            return username;
        }

        function shuffleString(str) {
            const arr = str.split('');
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
            return arr.join('');
        }

        async function checkUsernameStatus(username) {
            const url1 = `https://www.roblox.com/users/profile?username=${username}`;
            const url2 = `https://auth.roblox.com/v1/usernames/validate?birthday=2006-09-21T07:00:00.000Z&context=Signup&username=${username}`;
            try {
                let response = await fetch(url1);
                if (response.status === 200) {
                    const pageContent = await response.text();
                    if (pageContent.toLowerCase().includes('banned')) {
                        return 'banned';
                    }
                    return true;
                }
                response = await fetch(url2);
                if (response.status === 200) {
                    const validationData = await response.json();
                    if (validationData.code === 0) {
                        return false;
                    } else if (validationData.code === 1) {
                        return true;
                    } else {
                        return validationData.code;
                    }
                }
                return false;
            } catch (error) {
                printToOutput(`${username} - ${error.message}`);
                return null;
            }
        }

        async function usernameChecker() {
            const username = prompt('Enter username to check:');
            if (username) {
                const status = await checkUsernameStatus(username);
                if (status === 'banned') {
                    printToOutput(`${username} - Account is banned`);
                } else if (status === true) {
                    printToOutput(`${username} - Account exists (taken)`);
                } else if (status === false) {
                    printToOutput(`${username} - Account does not exist (available)`);
                } else if (status === 2) {
                    printToOutput(`${username} - Username is inappropriate for Roblox`);
                } else if (status === 3) {
                    printToOutput(`${username} - Username must be 3 to 20 characters long.`);
                } else if (status === 4) {
                    printToOutput(`${username} - Username cannot start or end with _`);
                } else if (status === 7) {
                    printToOutput(`${username} - Only a-z, A-Z, 0-9, and _ are allowed`);
                } else {
                    printToOutput(`${username} - Unknown error`);
                }
            }
        }

        async function createAccount(username) {
            const result = await checkUsernameStatus(username);
            if (result === false) {
                printToOutput(`Creating account for ${username}...`);
                // Add your account creation logic here
                printToOutput(`Account created: ${username}`);
            } else {
                printToOutput(`${username} - Account creation failed. Username might be taken or invalid.`);
            }
        }

        function printToOutput(message) {
            outputDiv.textContent += message + '\n';
            outputDiv.scrollTop = outputDiv.scrollHeight;
        }
    </script>
</body>
</html>
